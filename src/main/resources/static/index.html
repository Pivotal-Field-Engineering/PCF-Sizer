<html>
<head>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.13/angular.min.js"></script>
    <script src="/js/main.js"></script>
    <link rel="stylesheet" href="styles/style.css">
</head>

<body ng-app="ShekelApp">

<div ng-controller="ShekelController" id="input">
    <h1>Hello Shekel</h1>

    <div id="sizing-input">
        <h2>Sizing:</h2>
        
        <div id="ai-packs">
	        AI Packs:
	        <select ng-model="aiPacks" 
	        	ng-options="opt as opt.label for opt in aiPackOptions"></select>
	        
	        </br>
	        
	        <a href="#" ng-click="aiHelpMeChoose = !aiHelpMeChoose">Help me choose</a>
	        
	        <div id="ai-help-me-choose" ng-show="aiHelpMeChoose">
	        	How many apps you got? 
	        	<input type="number" ng-model="aiChooser.apps" value="{{aiChooser.apps}}"></input>
	        	<br/>
	        	How many folks on your dev teams (avg)?
	        	<input type="number" ng-model="aiChooser.devs" value="{{aiChooser.devs}}"></input>
	        	<br/>
	        	How many steps in your pipeline
	        	<input type="number" ng-model="aiChooser.steps"value="{{aiChooser.steps}}" ></input>
	        	<br/>
	        	
	        	<p>You need {{ais()}} ai packs</p>
	        	<a href="#" ng-click="setAis()">Set it!</a>
	        </div>
        </div>
        
        RAM:
        <select ng-model="avgRam"
        	ng-options="opt as opt.value for opt in avgRamOptions"></select>
        
        DEA:
        <select>
        	<option ng-repeat="i in deaSize">{{i}}</option>
        </select>
        
        AZ Recovery
        <select>
        	<option ng-repeat="i in aZRecoveryCapacity">{{i}}%</option>
        </select>
    </div>
    
    <p>Calculating using {{deaDef.usableRam}} GB DEA head room.</p>
    <p>Using n+x factor {{nPlusX}}.</p>
    <p>The foundation has {{numAZ}} availability zones.</p>
 	<p>Total # of DEA's: {{totalDEAs()}}</p>
	<p>DEA per AZ: {{deasPerAz()}}</p>
	
    <div id="sizing-output">
    	<h2>Watcha need (full calculation)</h2>
    	<a href="#" ng-click="buildVms()">rebuild</a>!
    	<table>
    		<thead>
    			<tr>
	    			<td>VM</td>
	    			<td>Qty</td>
    			</tr>
    		</thead>
    		<tr ng-repeat="vm in vms">
    			<td>{{vm.name}}</td><td>{{vm.qty}}</td>	    		
    		<tr>
    	</table>
    </div>
</div>


</body>
</html>